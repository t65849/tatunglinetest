<html>

<head>
    <title>抽獎</title>
    <script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <style>
        body {
            background-size: cover;
            width: 960px;
            height: 820px;
        }
    </style>
</head>

<body background="https://member.tatung.com/Content/event/airconditioner_aci/img_2/bn-bg.jpg" onload="num_turn()">
    <div style="width:100%;height:100%;">
        <input type="button" onclick="getBubble()" style="background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_01.png);width: 960px;height: 100%;background-size: cover;border:none;"
            id="imgg">
    </div>
    </button>
    <script>
        var num = 1;
        var imgg = document.getElementById('imgg');
        function num_turn() {
            num = num % 6 + 1;
            switch (num) {
                case 1:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_01.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
                case 2:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_02.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
                case 3:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_03.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
                case 4:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_04.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
                case 5:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_05.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
                case 6:
                    imgg.style = "background-color: transparent;background-image:url(https://member.tatung.com/Content/event/airconditioner_aci/img/round_s_06.png);width: 960px;height: 100%;background-size: cover;border:none;";
                    break;
            }
            setTimeout(num_turn, 50);
        }

        function getBubble() {
            liff.init(function () {
                liff.getProfile().then(function (profile) {
                    var userId = JSON.stringify(profile.userId);
                    var displayName = JSON.stringify(profile.displayName);
                    var pictureUrl = JSON.stringify(profile.pictureUrl);
                    var data = {
                        userId: userId,
                        displayName: displayName,
                        pictureUrl: pictureUrl
                    }
                    $.post('/getlineuserid', data, function () {
                        liff.closeWindow();
                    });
                }).catch(function (error) {
                    window.alert("Error getting profile: " + error);
                });
            }, function (err) { console.log("error: " + err); })

        }
    </script>
</body>

</html>